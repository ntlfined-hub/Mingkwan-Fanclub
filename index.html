<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>FIN-JOD ¬∑ Professional Quiz</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root{
  --bg-from:#0b1120;
  --bg-to:#1e293b;
  --card-bg:rgba(255,255,255,0.12);
  --line:#334155;
  --accent1:#6366f1;
  --accent2:#22d3ee;
  --text:#f9fafb;
  --muted:#d1d5db;
}
body{
  font-family:'Plus Jakarta Sans',sans-serif;
  background:linear-gradient(180deg,var(--bg-from),var(--bg-to));
  color:var(--text);
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:1rem;
  -webkit-font-smoothing:antialiased;
  text-shadow:0 1px 2px rgba(0,0,0,0.4);
}
.card{
  background:var(--card-bg);
  border:1px solid rgba(255,255,255,0.15);
  backdrop-filter:blur(18px);
  border-radius:20px;
  padding:1.8rem;
  width:100%;
  max-width:420px;
  box-shadow:0 8px 40px rgba(0,0,0,0.6);
}
h1{font-size:1.75rem;font-weight:800;line-height:1.25;}
h2{font-size:1.2rem;font-weight:700;line-height:1.45;}
small,.text-dim{color:var(--muted);}
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:1rem 1.2rem;border-radius:14px;font-weight:700;
  transition:all .2s ease;width:100%;font-size:1.05rem;
}
.btn-primary{
  background:linear-gradient(90deg,var(--accent1),var(--accent2));
  color:#fff;box-shadow:0 0 20px rgba(34,211,238,0.4);
}
.btn-primary:hover{filter:brightness(1.08);}
.btn-ghost{
  background:rgba(255,255,255,0.1);
  border:1px solid var(--line);
  color:var(--text);
}
.input{
  width:100%;
  padding:1rem 1.1rem;
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.2);
  border-radius:12px;
  color:var(--text);
  outline:none;
  font-size:1rem;
  transition:border .2s ease,box-shadow .2s ease;
}
.input::placeholder{color:#9ca3af;}
.input:focus{
  border-color:var(--accent2);
  box-shadow:0 0 0 3px rgba(34,211,238,0.3);
}
.option{
  border:1px solid rgba(255,255,255,0.15);
  border-radius:14px;
  padding:1rem;
  background:rgba(255,255,255,0.06);
  cursor:pointer;
  transition:all .25s ease;
  line-height:1.4;
}
.option:hover{background:rgba(34,211,238,0.18);}
.option.selected{
  background:linear-gradient(90deg,var(--accent1),var(--accent2));
  color:#fff;
  border-color:transparent;
  box-shadow:0 0 18px rgba(34,211,238,0.5);
}
.progress{
  height:10px;
  background:rgba(255,255,255,0.12);
  border-radius:999px;
  overflow:hidden;
}
.progress>div{
  height:100%;
  background:linear-gradient(90deg,#6366f1,#22d3ee,#06b6d4);
  width:0%;
  transition:width .4s ease;
}
.result-num{font-size:2rem;font-weight:800;}
.hidden{display:none!important;}
@media (max-width:480px){
  body{padding:0.8rem;}
  .card{padding:1.5rem;border-radius:18px;}
  h1{font-size:1.55rem;}
  .btn{font-size:1rem;padding:.9rem 1rem;}
  .option{padding:.9rem;}
}
</style>
</head>
<body>
<div class="card" id="screen-login">
  <h1>‡πÄ‡∏Å‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô üí°</h1>
  <p class="mt-2 text-sm text-dim">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</p>
  <div class="mt-6 space-y-3">
    <input id="nickname" class="input" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô">
    <input id="empId" class="input" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô (A-Z,0-9)">
    <button id="startBtn" class="btn btn-primary mt-2">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
  </div>
</div>

<div class="card hidden" id="screen-quiz">
  <div class="flex justify-between text-sm mb-3 text-dim">
    <span>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° <span id="qIndex">1</span>/<span id="qTotal">5</span></span>
    <span id="timer">0:00</span>
  </div>
  <div class="progress mb-4"><div id="bar"></div></div>
  <h2 id="qTitle" class="mb-3"></h2>
  <div id="options" class="space-y-2"></div>
  <div class="mt-6 flex flex-col sm:flex-row gap-3">
    <button id="prevBtn" class="btn btn-ghost flex-1">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
    <button id="nextBtn" class="btn btn-primary flex-1">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
    <button id="submitBtn" class="btn btn-primary flex-1 hidden">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
  </div>
</div>

<div class="card hidden" id="screen-result">
  <h1>‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì üéØ</h1>
  <div class="mt-6 text-center">
    <div class="result-num" id="scoreText">0/0</div>
    <p class="mt-2">‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô <span id="percentText">0%</span></p>
    <p class="text-dim mt-1">‡πÄ‡∏ß‡∏•‡∏≤ <span id="timeText">0:00</span></p>
  </div>
  <div class="mt-6 space-y-3">
    <button id="playAgainBtn" class="btn btn-ghost">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
  </div>
</div>

<script>
const GAS_WEB_APP_URL="https://script.google.com/macros/s/AKfycbwqRg7I3M2OsNyzgfexr9IUyosCSXYAdjdHDAic4mQk8Opvv0_4G2Y7elVg3RRjing_7g/exec";
const EMP_ID_RULE=/^[A-Za-z0-9]{4,16}$/;
const BANK=[
 {title:"‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏£‡∏≤‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏≠‡∏∞‡πÑ‡∏£",options:["‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°","‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå","‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°","‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô"],correctIndex:2},
 {title:"‡∏û‡∏µ‡πà‡∏Ç‡∏ß‡∏±‡∏ç‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏¥‡∏î‡∏•‡πâ‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏∞‡πÑ‡∏£",options:["‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£","‡∏´‡∏ô‡πà‡∏ß‡∏¢ M","‡∏£‡∏õ‡∏†","‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏Ç‡∏≤"],correctIndex:0},
 {title:"‡∏û‡∏µ‡πà‡∏Ç‡∏ß‡∏±‡∏ç‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡∏µ‡πà‡∏Ñ‡∏ô",options:["1 ‡∏Ñ‡∏ô","2 ‡∏Ñ‡∏ô","3 ‡∏Ñ‡∏ô","4 ‡∏Ñ‡∏ô"],correctIndex:1},
 {title:"‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏ä‡πâ ‡∏û‡∏µ‡πà‡∏Ç‡∏ß‡∏±‡∏ç‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏Ç‡∏≤‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏£‡∏Å",options:["‡∏ö‡πâ‡∏≤‡∏ô","‡∏£‡∏ñ","‡∏ó‡∏≠‡∏á","‡∏ó‡∏µ‡∏ß‡∏µ"],correctIndex:0},
 {title:"‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏¥‡∏î‡∏•‡∏ö ‡∏û‡∏µ‡πà‡∏Ç‡∏ß‡∏±‡∏ç‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£",options:["‡∏Å‡∏î‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï","‡∏≠‡∏î‡∏Ç‡πâ‡∏≤‡∏ß","‡∏¢‡∏∑‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô","‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢"],correctIndex:0}
];
let state={nickname:"",empId:"",index:0,questions:[],startTs:0,timer:null,submitted:false};
const $=id=>document.getElementById(id);
function shuffle(a){return a.sort(()=>Math.random()-.5);}
function buildQuestions(){return shuffle(BANK).map(q=>({title:q.title,choices:shuffle(q.options.map((t,i)=>({text:t,correct:i===q.correctIndex}))),answer:null}));}
function mmss(ms){let s=Math.floor(ms/1000),m=Math.floor(s/60);return m+':'+String(s%60).padStart(2,'0');}
function show(id){["screen-login","screen-quiz","screen-result"].forEach(s=>$(s).classList.add("hidden"));$(id).classList.remove("hidden");}
function startTimer(){stopTimer();state.startTs=Date.now();state.timer=setInterval(()=>$("timer").textContent=mmss(Date.now()-state.startTs),500);}
function stopTimer(){if(state.timer)clearInterval(state.timer);}
function renderQuestion(){
 let q=state.questions[state.index];
 $("qTitle").textContent=q.title;
 $("options").innerHTML="";
 q.choices.forEach((c,i)=>{
  let div=document.createElement("div");
  div.className="option"+(q.answer===i?" selected":"");
  div.textContent=c.text;
  div.onclick=()=>{q.answer=i;document.querySelectorAll(".option").forEach(x=>x.classList.remove("selected"));div.classList.add("selected");updateNav();};
  $("options").appendChild(div);
 });
 $("qIndex").textContent=state.index+1;
 $("qTotal").textContent=state.questions.length;
 $("bar").style.width=(state.index/state.questions.length*100)+"%";
 updateNav();
}
function updateNav(){
 const first=state.index===0,last=state.index===state.questions.length-1,ans=state.questions[state.index].answer!=null;
 $("prevBtn").disabled=first;
 $("nextBtn").classList.toggle("hidden",last);
 $("nextBtn").disabled=!ans;
 $("submitBtn").classList.toggle("hidden",!last);
 $("submitBtn").disabled=!last||!ans;
}
$("startBtn").onclick=()=>{
 const n=$("nickname").value.trim(),e=$("empId").value.trim();
 if(n.length<2)return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
 if(!EMP_ID_RULE.test(e))return alert("‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
 state.nickname=n;state.empId=e;state.questions=buildQuestions();state.index=0;startTimer();show("screen-quiz");renderQuestion();
};
$("nextBtn").onclick=()=>{if(state.index<state.questions.length-1){state.index++;renderQuestion();}};
$("prevBtn").onclick=()=>{if(state.index>0){state.index--;renderQuestion();}};
$("submitBtn").onclick=()=>{
 if(state.submitted)return;
 const spent=Date.now()-state.startTs;
 const score=state.questions.filter(q=>q.answer!=null&&q.choices[q.answer].correct).length;
 const percent=Math.round(score/state.questions.length*100);
 stopTimer();state.submitted=true;
 $("scoreText").textContent=score+"/"+state.questions.length;
 $("percentText").textContent=percent+"%";
 $("timeText").textContent=mmss(spent);
 show("screen-result");
 const form=new URLSearchParams({nickname:state.nickname,empId:state.empId,score,total:state.questions.length,percent,spentMs:spent});
 fetch(GAS_WEB_APP_URL,{method:"POST",body:form});
};
$("playAgainBtn").onclick=()=>{state={nickname:"",empId:"",index:0,questions:[],startTs:0,timer:null,submitted:false};$("nickname").value="";$("empId").value="";show("screen-login");};
</script>
</body>
</html>
